# Git Rebase 和 Git Merge 的区别

在使用 Git 进行版本控制时，`git rebase` 和 `git merge` 是两个常用的命令，它们都用于合并分支，但工作原理和效果有所不同。

## 1. 概念概述

### 1.1 Git Merge
`git merge` 用于将一个分支的更改合并到另一个分支中。执行后会在目标分支上创建一个新的提交节点，表示两个分支的合并点。这种方式保留了两个分支的历史记录，适合需要保持分支独立性和合并历史的情况。

**示例：**
```bash
# 切换到主分支并合并 feature 分支
git checkout main
git merge feature
```

### 1.2 Git Rebase
`git rebase` 用于将源分支的所有提交逐个应用到目标分支上。这种方式使得目标分支的历史更加线性，看起来像是直接在目标分支的基础上依次进行的提交。

**示例：**
```bash
# 切换到主分支并重新基于 feature 分支
git checkout main
git rebase feature
```

## 2. 图解区别

### 2.1 使用 `git merge` 后的分支历史
```
A---B---C---D---E (main)
       \
        F---G (feature-branch)
```
执行 `git merge feature-branch` 后：
```
A---B---C---D---E---H (main)
       \
        F---G (feature-branch)
```

### 2.2 使用 `git rebase` 后的分支历史
```
A---B---C---D---E (main)
       \
        F---G (feature-branch)
```
执行 `git rebase feature-branch` 后：
```
A---B---C---D---F'--G' (main)
```

## 3. 主要区别

| 特性                | Git Merge                          | Git Rebase                         |
|---------------------|------------------------------------|------------------------------------|
| **历史记录**         | 保留两个分支的独立历史，创建合并点 | 使目标分支的历史更加线性           |
| **提交方式**         | 创建一个新的合并提交               | 逐个应用源分支的提交到目标分支       |
| **适用场景**         | 需要保持分支独立性和合并记录时使用   | 希望简化历史、使流程更直观时使用     |
| **团队协作**         | 更适合多人协作，保留所有变更信息    | 适合个人或小型项目，便于追踪提交顺序 |

## 4. 使用建议

- **`git merge`**：适用于需要记录分支独立性的情况，如长期维护分支或特性分支。
- **`git rebase`**：适用于希望简化历史、保持线性提交的场景，如个人开发或短生命周期项目。

根据项目的具体需求和团队协作习惯选择合适的合并方式，有助于提升代码管理效率。