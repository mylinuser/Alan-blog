import{_ as s,o as n,c as a,Q as e}from"./chunks/framework.82e0a936.js";const u=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"deploy/nginx.md","filePath":"deploy/nginx.md","lastUpdated":1694189773000}'),l={name:"deploy/nginx.md"},p=e(`<h2 id="nginx命令" tabindex="-1">nginx命令 <a class="header-anchor" href="#nginx命令" aria-label="Permalink to &quot;nginx命令&quot;">​</a></h2><p><strong>启动 nginx</strong></p><p>进入到 /usr/local/nginx 目录，</p><p>接着我们进入到 sbin 目录，通过如下命令启动 nginx：</p><div class="language-css vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;font-style:italic;">.</span><span style="color:#FDAEB7;font-style:italic;">/nginx</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;font-style:italic;">.</span><span style="color:#B31D28;font-style:italic;">/nginx</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>当然你也可以配置环境命令，这样在任意目录都能启动 nginx。</p><p>可以输入如下命令，查看 nginx 是否有服务正在运行：</p><div class="language-css vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#DBD7CAEE;">ps -ef </span><span style="color:#666666;">|</span><span style="color:#DBD7CAEE;"> grep nginx</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#393A34;">ps -ef </span><span style="color:#999999;">|</span><span style="color:#393A34;"> grep nginx</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>关闭 nginx</strong></p><p>有两种方式：</p><p>方式1：快速停止</p><div class="language-css vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#DBD7CAEE;">cd /usr/local/nginx/sbin</span></span>
<span class="line"><span style="color:#666666;font-style:italic;">.</span><span style="color:#FDAEB7;font-style:italic;">/nginx</span><span style="color:#DBD7CAEE;"> -s </span><span style="color:#4D9375;">stop</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#393A34;">cd /usr/local/nginx/sbin</span></span>
<span class="line"><span style="color:#999999;font-style:italic;">.</span><span style="color:#B31D28;font-style:italic;">/nginx</span><span style="color:#393A34;"> -s </span><span style="color:#1E754F;">stop</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>此方式相当于先查出nginx进程id再使用kill命令强制杀掉进程。不太友好。</p><p>方式2：平缓停止</p><div class="language-css vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#DBD7CAEE;">cd /usr/local/nginx/sbin</span></span>
<span class="line"><span style="color:#666666;font-style:italic;">.</span><span style="color:#FDAEB7;font-style:italic;">/nginx</span><span style="color:#DBD7CAEE;"> -s quit</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#393A34;">cd /usr/local/nginx/sbin</span></span>
<span class="line"><span style="color:#999999;font-style:italic;">.</span><span style="color:#B31D28;font-style:italic;">/nginx</span><span style="color:#393A34;"> -s quit</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>此方式是指允许 nginx 服务将当前正在处理的网络请求处理完成，但不在接收新的请求，之后关闭连接，停止工作。</p><p><strong>重启 nginx</strong></p><div class="language-css vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#DBD7CAEE;">service nginx restart</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#393A34;">service nginx restart</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>方式1：先停止再启动</p><div class="language-css vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;font-style:italic;">.</span><span style="color:#FDAEB7;font-style:italic;">/nginx</span><span style="color:#DBD7CAEE;"> -s quit</span></span>
<span class="line"><span style="color:#666666;font-style:italic;">.</span><span style="color:#FDAEB7;font-style:italic;">/nginx</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;font-style:italic;">.</span><span style="color:#B31D28;font-style:italic;">/nginx</span><span style="color:#393A34;"> -s quit</span></span>
<span class="line"><span style="color:#999999;font-style:italic;">.</span><span style="color:#B31D28;font-style:italic;">/nginx</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>相当于先执行停止命令再执行启动命令。</p><p>方式2：重新加载配置文件</p><div class="language-css vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;font-style:italic;">.</span><span style="color:#FDAEB7;font-style:italic;">/nginx</span><span style="color:#DBD7CAEE;"> -s reload</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;font-style:italic;">.</span><span style="color:#B31D28;font-style:italic;">/nginx</span><span style="color:#393A34;"> -s reload</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>通常我们使用nginx修改最多的便是其配置文件 nginx.conf。修改之后想要让配置文件生效而不用重启 nginx，便可以使用此命令。</p><p><strong>检测配置文件语法是否正确</strong></p><p>方式1：通过如下命令，指定需要检查的配置文件</p><div class="language-css vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#DBD7CAEE;">nginx -t -c  /usr/local/nginx/conf/nginx</span><span style="color:#666666;">.</span><span style="color:#BD976A;">conf</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#393A34;">nginx -t -c  /usr/local/nginx/conf/nginx</span><span style="color:#999999;">.</span><span style="color:#B07D48;">conf</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>方式2：通过如下命令，不加 -c 参数，默认检测nginx.conf 配置文件。</p><div class="language-css vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#DBD7CAEE;">nginx -t</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#393A34;">nginx -t</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,29),i=[p];function t(o,c,r,d,g,y){return n(),a("div",null,i)}const b=s(l,[["render",t]]);export{u as __pageData,b as default};
