import{_ as s,o as a,c as n,Q as l}from"./chunks/framework.82820f36.js";const u=JSON.parse('{"title":"刘海屏css适配问题","description":"","frontmatter":{},"headers":[],"relativePath":"study/screen_header.md","filePath":"study/screen_header.md","lastUpdated":1739638504000}'),p={name:"study/screen_header.md"},o=l(`<h1 id="刘海屏css适配问题" tabindex="-1">刘海屏css适配问题 <a class="header-anchor" href="#刘海屏css适配问题" aria-label="Permalink to &quot;刘海屏css适配问题&quot;">​</a></h1><p>近年来，随着手机设计的不断进化，“刘海屏”（Notch Screen）成为主流。这种设计在顶部留出一块凹槽区域用于容纳前置摄像头、光线传感器等元器件，虽然提升了手机的美观度，但也给 Web 开发带来了新的挑战。本文将深入探讨刘海屏的 CSS 适配问题，并提供一些实用的解决方案。</p><h2 id="什么是刘海屏" tabindex="-1">什么是刘海屏？ <a class="header-anchor" href="#什么是刘海屏" aria-label="Permalink to &quot;什么是刘海屏？&quot;">​</a></h2><p>刘海屏是指手机屏幕顶部有一个凹槽（Notch），通常用于放置前置摄像头、光线传感器、距离传感器等元器件。这种设计在 iOS 和 Android 设备中尤为常见，但也带来了新的布局和样式挑战。</p><h3 id="刘海屏的特点" tabindex="-1">刘海屏的特点 <a class="header-anchor" href="#刘海屏的特点" aria-label="Permalink to &quot;刘海屏的特点&quot;">​</a></h3><ol><li><strong>不规则的屏幕区域</strong>：刘海屏会占用屏幕顶部的一部分空间，导致可显示内容的实际区域发生变化。</li><li><strong>状态栏位置调整</strong>：部分刘海屏设备会将状态栏（如信号、时间等）放置在凹槽下方或旁边。</li><li><strong>不同的厂商实现</strong>：不同厂商（如 Apple、Google、小米、三星等）对刘海屏的处理方式有所不同，导致适配难度增加。</li></ol><h2 id="刘海屏css适配的核心问题" tabindex="-1">刘海屏CSS适配的核心问题 <a class="header-anchor" href="#刘海屏css适配的核心问题" aria-label="Permalink to &quot;刘海屏CSS适配的核心问题&quot;">​</a></h2><ol><li><strong>顶部布局冲突</strong>：刘海屏会占用屏幕顶部的一部分空间，可能导致顶部元素被遮挡或错位。</li><li><strong>样式兼容性差</strong>：不同厂商对刘海屏的处理方式不同，部分 CSS 属性在刘海屏设备上表现不一致。</li><li><strong>调试困难</strong>：由于刘海屏的特殊性，开发者需要特殊的工具和方法来测试适配效果。</li></ol><h2 id="刘海屏css适配的核心思路" tabindex="-1">刘海屏CSS适配的核心思路 <a class="header-anchor" href="#刘海屏css适配的核心思路" aria-label="Permalink to &quot;刘海屏CSS适配的核心思路&quot;">​</a></h2><p>要实现刘海屏的完美适配，我们需要从以下几个方面入手：</p><ol><li><strong>检测刘海屏的存在</strong>： <ul><li>使用 JavaScript 检测设备是否支持刘海屏。</li></ul></li><li><strong>调整布局策略</strong>： <ul><li>根据刘海屏的特点，动态调整页面布局。</li></ul></li><li><strong>利用 CSS 特性</strong>： <ul><li>通过媒体查询或特定的 CSS 属性，适配不同厂商的刘海屏方案。</li></ul></li></ol><h2 id="刘海屏适配的具体实现" tabindex="-1">刘海屏适配的具体实现 <a class="header-anchor" href="#刘海屏适配的具体实现" aria-label="Permalink to &quot;刘海屏适配的具体实现&quot;">​</a></h2><h3 id="_1-检测刘海屏的存在" tabindex="-1">1. 检测刘海屏的存在 <a class="header-anchor" href="#_1-检测刘海屏的存在" aria-label="Permalink to &quot;1. 检测刘海屏的存在&quot;">​</a></h3><p>要检测设备是否支持刘海屏，我们可以使用以下方法：</p><h4 id="方法一-检查系统属性-适用于-ios-和-android" tabindex="-1">方法一：检查系统属性（适用于 iOS 和 Android） <a class="header-anchor" href="#方法一-检查系统属性-适用于-ios-和-android" aria-label="Permalink to &quot;方法一：检查系统属性（适用于 iOS 和 Android）&quot;">​</a></h4><ul><li><p><strong>iOS</strong>：</p><ul><li>使用 <code>window.screen</code> 属性获取刘海屏信息。</li><li><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#4D9375;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#CB7676;">typeof</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">window</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">!==</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">undefined</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">&amp;&amp;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">window</span><span style="color:#666666;">.</span><span style="color:#BD976A;">screen</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#CB7676;">const</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">notchInfo</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">window</span><span style="color:#666666;">.</span><span style="color:#BD976A;">screen</span><span style="color:#666666;">.</span><span style="color:#80A665;">getNotchInfo</span><span style="color:#666666;">();</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#758575DD;">// 处理刘海屏信息</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#AB5959;">typeof</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">window</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">!==</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">undefined</span><span style="color:#B5695999;">&#39;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&amp;&amp;</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">window</span><span style="color:#999999;">.</span><span style="color:#B07D48;">screen</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">notchInfo</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">window</span><span style="color:#999999;">.</span><span style="color:#B07D48;">screen</span><span style="color:#999999;">.</span><span style="color:#59873A;">getNotchInfo</span><span style="color:#999999;">();</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#A0ADA0;">// 处理刘海屏信息</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul></li><li><p><strong>Android</strong>：</p><ul><li>检查设备的 <code>displayMetrics</code> 或使用厂商提供的 API。</li><li><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#4D9375;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">window</span><span style="color:#666666;">.</span><span style="color:#BD976A;">devicePixelRatio</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">1</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#758575DD;">// 可能是刘海屏设备</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">window</span><span style="color:#999999;">.</span><span style="color:#B07D48;">devicePixelRatio</span><span style="color:#393A34;"> </span><span style="color:#999999;">&gt;</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">1</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#A0ADA0;">// 可能是刘海屏设备</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul></li></ul><h4 id="方法二-媒体查询" tabindex="-1">方法二：媒体查询 <a class="header-anchor" href="#方法二-媒体查询" aria-label="Permalink to &quot;方法二：媒体查询&quot;">​</a></h4><p>通过 CSS 媒体查询检测设备是否支持刘海屏：</p><ul><li><strong>iOS</strong>： <ul><li><div class="language-css vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">@</span><span style="color:#4D9375;">media</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#DBD7CAEE;">screen-height</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">842</span><span style="color:#CB7676;">px</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#DBD7CAEE;"> </span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#758575DD;">/* 处理刘海屏布局 */</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">@</span><span style="color:#1E754F;">media</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#393A34;">screen-height</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">842</span><span style="color:#AB5959;">px</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#A0ADA0;">/* 处理刘海屏布局 */</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li>注意：刘海屏的屏幕高度会因设备而异，需具体测试。</li></ul></li></ul><h3 id="_2-调整布局策略" tabindex="-1">2. 调整布局策略 <a class="header-anchor" href="#_2-调整布局策略" aria-label="Permalink to &quot;2. 调整布局策略&quot;">​</a></h3><h4 id="_1-顶部布局偏移" tabindex="-1">（1）顶部布局偏移 <a class="header-anchor" href="#_1-顶部布局偏移" aria-label="Permalink to &quot;（1）顶部布局偏移&quot;">​</a></h4><p>在刘海屏设备上，顶部内容可能会被凹槽遮挡。我们需要动态调整顶部元素的位置或添加偏移：</p><ul><li><strong>固定顶部距离</strong>： <ul><li><div class="language-css vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">.</span><span style="color:#BD976A;">top-element</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#B8A965;">margin-top</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> env(safe-area-inset-top)</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">.</span><span style="color:#B07D48;">top-element</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#998418;">margin-top</span><span style="color:#999999;">:</span><span style="color:#393A34;"> env(safe-area-inset-top)</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li><code>env</code> 变量可以自动适配刘海屏的顶部安全区域。</li></ul></li></ul><h4 id="_2-状态栏适配" tabindex="-1">（2）状态栏适配 <a class="header-anchor" href="#_2-状态栏适配" aria-label="Permalink to &quot;（2）状态栏适配&quot;">​</a></h4><p>部分刘海屏设备会调整状态栏的位置，我们需要确保页面内容不与状态栏重叠：</p><ul><li><strong>动态调整布局</strong>： <ul><li><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#BD976A;">window</span><span style="color:#666666;">.</span><span style="color:#80A665;">addEventListener</span><span style="color:#666666;">(</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">resize</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=&gt;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#CB7676;">const</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">statusBarHeight</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">window</span><span style="color:#666666;">.</span><span style="color:#BD976A;">screen</span><span style="color:#666666;">.</span><span style="color:#BD976A;">statusBarHeight</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#BD976A;">document</span><span style="color:#666666;">.</span><span style="color:#BD976A;">documentElement</span><span style="color:#666666;">.</span><span style="color:#BD976A;">style</span><span style="color:#666666;">.</span><span style="color:#80A665;">setProperty</span><span style="color:#666666;">(</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">--status-bar-height</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">\`</span><span style="color:#666666;">\${</span><span style="color:#C98A7D;">statusBarHeight</span><span style="color:#666666;">}</span><span style="color:#C98A7D;">px</span><span style="color:#C98A7D99;">\`</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#666666;">});</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#B07D48;">window</span><span style="color:#999999;">.</span><span style="color:#59873A;">addEventListener</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">resize</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">statusBarHeight</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">window</span><span style="color:#999999;">.</span><span style="color:#B07D48;">screen</span><span style="color:#999999;">.</span><span style="color:#B07D48;">statusBarHeight</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B07D48;">document</span><span style="color:#999999;">.</span><span style="color:#B07D48;">documentElement</span><span style="color:#999999;">.</span><span style="color:#B07D48;">style</span><span style="color:#999999;">.</span><span style="color:#59873A;">setProperty</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">--status-bar-height</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">\`</span><span style="color:#999999;">\${</span><span style="color:#B56959;">statusBarHeight</span><span style="color:#999999;">}</span><span style="color:#B56959;">px</span><span style="color:#B5695999;">\`</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#999999;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li><li>在 CSS 中使用变量控制布局：</li><li><div class="language-css vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">.</span><span style="color:#BD976A;">header</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#B8A965;">margin-top</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#B8A965;">calc</span><span style="color:#666666;">(</span><span style="color:#B8A965;">var</span><span style="color:#666666;">(</span><span style="color:#BD976A;">--status-bar-height</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">20</span><span style="color:#CB7676;">px</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">.</span><span style="color:#B07D48;">header</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#998418;">margin-top</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#998418;">calc</span><span style="color:#999999;">(</span><span style="color:#998418;">var</span><span style="color:#999999;">(</span><span style="color:#B07D48;">--status-bar-height</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">20</span><span style="color:#AB5959;">px</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul></li></ul><h4 id="_3-页面内容适配" tabindex="-1">（3）页面内容适配 <a class="header-anchor" href="#_3-页面内容适配" aria-label="Permalink to &quot;（3）页面内容适配&quot;">​</a></h4><p>刘海屏设备的实际显示区域比屏幕小，我们需要调整页面内容的大小：</p><ul><li><strong>自动缩放</strong>： <ul><li>使用 <code>viewport</code> 属性控制页面缩放。</li><li><div class="language-html vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">meta</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">name</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">viewport</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">content</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">width=device-width, initial-scale=1.0</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">&gt;</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">meta</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">name</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">viewport</span><span style="color:#B5695999;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">content</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">width=device-width, initial-scale=1.0</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul></li><li><strong>动态调整字体和布局</strong>： <ul><li>根据屏幕比例动态调整文字大小和间距。</li></ul></li></ul><h3 id="_3-利用厂商提供的适配方案" tabindex="-1">3. 利用厂商提供的适配方案 <a class="header-anchor" href="#_3-利用厂商提供的适配方案" aria-label="Permalink to &quot;3. 利用厂商提供的适配方案&quot;">​</a></h3><p>不同厂商对刘海屏的处理方式有所不同，我们需要针对性地适配：</p><h4 id="_1-ios刘海屏-notch" tabindex="-1">（1）iOS刘海屏（Notch） <a class="header-anchor" href="#_1-ios刘海屏-notch" aria-label="Permalink to &quot;（1）iOS刘海屏（Notch）&quot;">​</a></h4><p>苹果在 iOS 设备上引入了 <code>safe-area</code> 概念。我们可以通过 CSS 的 <code>env()</code> 变量来适配：</p><ul><li><strong>顶部偏移</strong>： <ul><li><div class="language-css vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">.</span><span style="color:#BD976A;">top-content</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#B8A965;">margin-top</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> env(safe-area-inset-top)</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">.</span><span style="color:#B07D48;">top-content</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#998418;">margin-top</span><span style="color:#999999;">:</span><span style="color:#393A34;"> env(safe-area-inset-top)</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul></li><li><strong>底部偏移</strong>： <ul><li><div class="language-css vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">.</span><span style="color:#BD976A;">bottom-content</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#B8A965;">margin-bottom</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> env(safe-area-inset-bottom)</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">.</span><span style="color:#B07D48;">bottom-content</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#998418;">margin-bottom</span><span style="color:#999999;">:</span><span style="color:#393A34;"> env(safe-area-inset-bottom)</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul></li></ul><h4 id="_2-android刘海屏" tabindex="-1">（2）Android刘海屏 <a class="header-anchor" href="#_2-android刘海屏" aria-label="Permalink to &quot;（2）Android刘海屏&quot;">​</a></h4><p>Android 设备的刘海屏适配较为复杂，不同厂商有不同的实现方式。我们可以通过以下方法进行适配：</p><ul><li><p><strong>使用厂商提供的 API</strong>：</p><ul><li>部分 Android 厂商（如小米、OPPO）提供了刘海屏检测和适配的 API。</li><li><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#4D9375;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">window</span><span style="color:#666666;">.</span><span style="color:#BD976A;">devicePixelRatio</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">1</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#758575DD;">// 调整布局以适配刘海屏</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">window</span><span style="color:#999999;">.</span><span style="color:#B07D48;">devicePixelRatio</span><span style="color:#393A34;"> </span><span style="color:#999999;">&gt;</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">1</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#A0ADA0;">// 调整布局以适配刘海屏</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul></li><li><p><strong>媒体查询</strong>：</p><ul><li>根据屏幕分辨率或设备型号进行适配。</li><li><div class="language-css vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">@</span><span style="color:#4D9375;">media</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#B8A965;">device-width</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">360</span><span style="color:#CB7676;">px</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">and</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#B8A965;">device-height</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">842</span><span style="color:#CB7676;">px</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#758575DD;">/* 针对特定刘海屏设备的布局调整 */</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">@</span><span style="color:#1E754F;">media</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#998418;">device-width</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">360</span><span style="color:#AB5959;">px</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">and</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#998418;">device-height</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">842</span><span style="color:#AB5959;">px</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#A0ADA0;">/* 针对特定刘海屏设备的布局调整 */</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul></li></ul>`,37),e=[o];function t(r,c,i,y,d,A){return a(),n("div",null,e)}const h=s(p,[["render",t]]);export{u as __pageData,h as default};
