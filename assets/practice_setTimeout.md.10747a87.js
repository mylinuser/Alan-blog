import{_ as s,o as n,c as a,Q as l}from"./chunks/framework.82e0a936.js";const B=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"practice/setTimeout.md","filePath":"practice/setTimeout.md","lastUpdated":1694189773000}'),p={name:"practice/setTimeout.md"},o=l(`<h2 id="定时器" tabindex="-1">定时器 <a class="header-anchor" href="#定时器" aria-label="Permalink to &quot;定时器&quot;">​</a></h2><h3 id="html" tabindex="-1">html <a class="header-anchor" href="#html" aria-label="Permalink to &quot;html&quot;">​</a></h3><div class="language-css vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                  !!</span><span style="color:#B8A965;">goodsDetail</span><span style="color:#DBD7CAEE;">?.</span><span style="color:#B8A965;">marketingType</span><span style="color:#DBD7CAEE;"> &amp;&amp; (</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    &lt;</span><span style="color:#B8A965;">View</span><span style="color:#DBD7CAEE;"> </span><span style="color:#B8A965;">className</span><span style="color:#DBD7CAEE;">=&#39;</span><span style="color:#B8A965;">count-down</span><span style="color:#DBD7CAEE;">&#39;&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                      &lt;</span><span style="color:#B8A965;">Text</span><span style="color:#DBD7CAEE;"> </span><span style="color:#B8A965;">className</span><span style="color:#DBD7CAEE;">=&#39;</span><span style="color:#B8A965;">start-text</span><span style="color:#DBD7CAEE;">&#39;&gt;即将开始&lt;/</span><span style="color:#B8A965;">Text</span><span style="color:#DBD7CAEE;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                      &lt;</span><span style="color:#B8A965;">View</span><span style="color:#DBD7CAEE;"> </span><span style="color:#B8A965;">className</span><span style="color:#DBD7CAEE;">=&#39;</span><span style="color:#B8A965;">count-text</span><span style="color:#DBD7CAEE;">&#39;&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                        &lt;</span><span style="color:#B8A965;">Text</span><span style="color:#DBD7CAEE;"> </span><span style="color:#B8A965;">className</span><span style="color:#DBD7CAEE;">=&#39;</span><span style="color:#B8A965;">bc-black</span><span style="color:#DBD7CAEE;">&#39;&gt;{</span><span style="color:#B8A965;">countDay</span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;">&lt;/</span><span style="color:#4D9375;">Text</span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CAEE;">天</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                        &lt;</span><span style="color:#4D9375;">Text</span><span style="color:#DBD7CAEE;"> className=&#39;</span><span style="color:#4D9375;">bc-black</span><span style="color:#DBD7CAEE;">&#39;</span><span style="color:#CB7676;">&gt;</span><span style="color:#666666;">{</span><span style="color:#B8A965;">countHour</span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;">&lt;/</span><span style="color:#4D9375;">Text</span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CAEE;">:</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                        &lt;</span><span style="color:#4D9375;">Text</span><span style="color:#DBD7CAEE;"> className=&#39;</span><span style="color:#4D9375;">bc-black</span><span style="color:#DBD7CAEE;">&#39;</span><span style="color:#CB7676;">&gt;</span><span style="color:#666666;">{</span><span style="color:#B8A965;">countMin</span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;">&lt;/</span><span style="color:#4D9375;">Text</span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CAEE;">:</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                        &lt;</span><span style="color:#4D9375;">Text</span><span style="color:#DBD7CAEE;"> className=&#39;</span><span style="color:#4D9375;">bc-black</span><span style="color:#DBD7CAEE;">&#39;</span><span style="color:#CB7676;">&gt;</span><span style="color:#666666;">{</span><span style="color:#B8A965;">countSec</span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;">&lt;/</span><span style="color:#4D9375;">Text</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                        &lt;</span><span style="color:#4D9375;">View</span><span style="color:#DBD7CAEE;"> className=&#39;</span><span style="color:#4D9375;">end-text</span><span style="color:#DBD7CAEE;">&#39;</span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CAEE;">截止时间&lt;/</span><span style="color:#4D9375;">View</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                      &lt;/</span><span style="color:#4D9375;">View</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    &lt;/</span><span style="color:#4D9375;">View</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                  )</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                }</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">                  !!</span><span style="color:#998418;">goodsDetail</span><span style="color:#393A34;">?.</span><span style="color:#998418;">marketingType</span><span style="color:#393A34;"> &amp;&amp; (</span></span>
<span class="line"><span style="color:#393A34;">                    &lt;</span><span style="color:#998418;">View</span><span style="color:#393A34;"> </span><span style="color:#998418;">className</span><span style="color:#393A34;">=&#39;</span><span style="color:#998418;">count-down</span><span style="color:#393A34;">&#39;&gt;</span></span>
<span class="line"><span style="color:#393A34;">                      &lt;</span><span style="color:#998418;">Text</span><span style="color:#393A34;"> </span><span style="color:#998418;">className</span><span style="color:#393A34;">=&#39;</span><span style="color:#998418;">start-text</span><span style="color:#393A34;">&#39;&gt;即将开始&lt;/</span><span style="color:#998418;">Text</span><span style="color:#393A34;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">                      &lt;</span><span style="color:#998418;">View</span><span style="color:#393A34;"> </span><span style="color:#998418;">className</span><span style="color:#393A34;">=&#39;</span><span style="color:#998418;">count-text</span><span style="color:#393A34;">&#39;&gt;</span></span>
<span class="line"><span style="color:#393A34;">                        &lt;</span><span style="color:#998418;">Text</span><span style="color:#393A34;"> </span><span style="color:#998418;">className</span><span style="color:#393A34;">=&#39;</span><span style="color:#998418;">bc-black</span><span style="color:#393A34;">&#39;&gt;{</span><span style="color:#998418;">countDay</span><span style="color:#999999;">}</span><span style="color:#393A34;">&lt;/</span><span style="color:#1E754F;">Text</span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;">天</span></span>
<span class="line"><span style="color:#393A34;">                        &lt;</span><span style="color:#1E754F;">Text</span><span style="color:#393A34;"> className=&#39;</span><span style="color:#1E754F;">bc-black</span><span style="color:#393A34;">&#39;</span><span style="color:#AB5959;">&gt;</span><span style="color:#999999;">{</span><span style="color:#998418;">countHour</span><span style="color:#999999;">}</span><span style="color:#393A34;">&lt;/</span><span style="color:#1E754F;">Text</span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;">:</span></span>
<span class="line"><span style="color:#393A34;">                        &lt;</span><span style="color:#1E754F;">Text</span><span style="color:#393A34;"> className=&#39;</span><span style="color:#1E754F;">bc-black</span><span style="color:#393A34;">&#39;</span><span style="color:#AB5959;">&gt;</span><span style="color:#999999;">{</span><span style="color:#998418;">countMin</span><span style="color:#999999;">}</span><span style="color:#393A34;">&lt;/</span><span style="color:#1E754F;">Text</span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;">:</span></span>
<span class="line"><span style="color:#393A34;">                        &lt;</span><span style="color:#1E754F;">Text</span><span style="color:#393A34;"> className=&#39;</span><span style="color:#1E754F;">bc-black</span><span style="color:#393A34;">&#39;</span><span style="color:#AB5959;">&gt;</span><span style="color:#999999;">{</span><span style="color:#998418;">countSec</span><span style="color:#999999;">}</span><span style="color:#393A34;">&lt;/</span><span style="color:#1E754F;">Text</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">                        &lt;</span><span style="color:#1E754F;">View</span><span style="color:#393A34;"> className=&#39;</span><span style="color:#1E754F;">end-text</span><span style="color:#393A34;">&#39;</span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;">截止时间&lt;/</span><span style="color:#1E754F;">View</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">                      &lt;/</span><span style="color:#1E754F;">View</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">                    &lt;/</span><span style="color:#1E754F;">View</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">                  )</span></span>
<span class="line"><span style="color:#393A34;">                }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="css" tabindex="-1">css <a class="header-anchor" href="#css" aria-label="Permalink to &quot;css&quot;">​</a></h3><div class="language-css vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">.</span><span style="color:#BD976A;">detail-top</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">      </span><span style="color:#B8A965;">position</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">relative</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">      .</span><span style="color:#B8A965;">count-down</span><span style="color:#DBD7CAEE;"> {</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">width</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#B8A965;">calc</span><span style="color:#666666;">(</span><span style="color:#4C9A91;">100</span><span style="color:#CB7676;">vw</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">-</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">40</span><span style="color:#CB7676;">px</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">padding</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">15</span><span style="color:#CB7676;">px</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">20</span><span style="color:#CB7676;">px</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">display</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">flex</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">justify-content</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">space-between</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">position</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">absolute</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">left</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">bottom</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">border-radius</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">10</span><span style="color:#CB7676;">px</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">10</span><span style="color:#CB7676;">px</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">background-color</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">#</span><span style="color:#C99076;">76d19c</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">color</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">#</span><span style="color:#C99076;">fff</span><span style="color:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">        .</span><span style="color:#B8A965;">start-text</span><span style="color:#DBD7CAEE;"> {</span></span>
<span class="line"><span style="color:#DBD7CAEE;">          </span><span style="color:#B8A965;">font-weight</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">600</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">          </span><span style="color:#B8A965;">font-size</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">30</span><span style="color:#CB7676;">px</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">.</span><span style="color:#BD976A;">count-text</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">          </span><span style="color:#B8A965;">font-size</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">24</span><span style="color:#CB7676;">px</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">          .</span><span style="color:#B8A965;">bc-black</span><span style="color:#DBD7CAEE;"> {</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#B8A965;">padding</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">5</span><span style="color:#CB7676;">px</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#B8A965;">margin</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">10</span><span style="color:#CB7676;">px</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#B8A965;">border-radius</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">5</span><span style="color:#CB7676;">px</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#B8A965;">font-weight</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">600</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#B8A965;">text-align</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">center</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#B8A965;">background-color</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">#</span><span style="color:#C99076;">495775</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">          </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">          </span><span style="color:#666666;">.</span><span style="color:#BD976A;">end-text</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#B8A965;">width</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">100</span><span style="color:#CB7676;">%</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#B8A965;">margin-top</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">10</span><span style="color:#CB7676;">px</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#B8A965;">text-align</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">right</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">          </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        }</span></span>
<span class="line"><span style="color:#DBD7CAEE;">      }</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    }</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">.</span><span style="color:#B07D48;">detail-top</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#998418;">position</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">relative</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">      .</span><span style="color:#998418;">count-down</span><span style="color:#393A34;"> {</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">width</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#998418;">calc</span><span style="color:#999999;">(</span><span style="color:#2F798A;">100</span><span style="color:#AB5959;">vw</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">-</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">40</span><span style="color:#AB5959;">px</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">padding</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">15</span><span style="color:#AB5959;">px</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">20</span><span style="color:#AB5959;">px</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">display</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">flex</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">justify-content</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">space-between</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">position</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">absolute</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">left</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">bottom</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">border-radius</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">10</span><span style="color:#AB5959;">px</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">10</span><span style="color:#AB5959;">px</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">background-color</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">#</span><span style="color:#A65E2B;">76d19c</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">color</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">#</span><span style="color:#A65E2B;">fff</span><span style="color:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">        .</span><span style="color:#998418;">start-text</span><span style="color:#393A34;"> {</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#998418;">font-weight</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">600</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#998418;">font-size</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">30</span><span style="color:#AB5959;">px</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">.</span><span style="color:#B07D48;">count-text</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#998418;">font-size</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">24</span><span style="color:#AB5959;">px</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">          .</span><span style="color:#998418;">bc-black</span><span style="color:#393A34;"> {</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#998418;">padding</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">5</span><span style="color:#AB5959;">px</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#998418;">margin</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">10</span><span style="color:#AB5959;">px</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#998418;">border-radius</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">5</span><span style="color:#AB5959;">px</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#998418;">font-weight</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">600</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#998418;">text-align</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">center</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#998418;">background-color</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">#</span><span style="color:#A65E2B;">495775</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#999999;">.</span><span style="color:#B07D48;">end-text</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#998418;">width</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">100</span><span style="color:#AB5959;">%</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#998418;">margin-top</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">10</span><span style="color:#AB5959;">px</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#998418;">text-align</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">right</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">        }</span></span>
<span class="line"><span style="color:#393A34;">      }</span></span>
<span class="line"><span style="color:#393A34;">    }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><h3 id="countdown-js" tabindex="-1">countDown.js <a class="header-anchor" href="#countdown-js" aria-label="Permalink to &quot;countDown.js&quot;">​</a></h3><div class="language-css vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#DBD7CAEE;">export default </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  // 把数字变成字符串，不够两位数的补零</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#B8A965;">transformTime</span><span style="color:#DBD7CAEE;">(</span><span style="color:#B8A965;">time</span><span style="color:#DBD7CAEE;">) {</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">const</span><span style="color:#DBD7CAEE;"> </span><span style="color:#B8A965;">newTime</span><span style="color:#DBD7CAEE;"> = </span><span style="color:#B8A965;">time</span><span style="color:#DBD7CAEE;"> + &#39;&#39;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">return</span><span style="color:#DBD7CAEE;"> </span><span style="color:#B8A965;">newTime</span><span style="color:#DBD7CAEE;">.</span><span style="color:#B8A965;">length</span><span style="color:#DBD7CAEE;"> &lt; 2 ? &#39;0&#39; + </span><span style="color:#B8A965;">newTime</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> newTime</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#758575DD;">/**</span></span>
<span class="line"><span style="color:#758575DD;">   * 倒计时</span></span>
<span class="line"><span style="color:#758575DD;">   * @param {*} timeout 定时器</span></span>
<span class="line"><span style="color:#758575DD;">   * @param {*} waitTime 倒计时的时间戳</span></span>
<span class="line"><span style="color:#758575DD;">   * @param {*} doSomethingDuringCountDown 定时器中执行期间执行的函数</span></span>
<span class="line"><span style="color:#758575DD;">   * @param {*} doSomethingAfterCountDown 定时器中执行后执行的函数</span></span>
<span class="line"><span style="color:#758575DD;">   */</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  countDown(timeout</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> waitTime</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> doSomethingDuringCountDown</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> doSomethingAfterCountDown) </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">if</span><span style="color:#DBD7CAEE;"> (</span><span style="color:#B8A965;">waitTime</span><span style="color:#DBD7CAEE;"> &gt; 0) {</span></span>
<span class="line"><span style="color:#DBD7CAEE;">      </span><span style="color:#B8A965;">waitTime--</span></span>
<span class="line"><span style="color:#DBD7CAEE;">      </span><span style="color:#B8A965;">if</span><span style="color:#DBD7CAEE;"> (</span><span style="color:#B8A965;">doSomethingDuringCountDown</span><span style="color:#DBD7CAEE;">) {</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">doSomethingDuringCountDown</span><span style="color:#DBD7CAEE;">(</span><span style="color:#B8A965;">waitTime</span><span style="color:#DBD7CAEE;">)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">      </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">      timeout = setTimeout(() =</span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">this</span><span style="color:#DBD7CAEE;">.</span><span style="color:#B8A965;">countDown</span><span style="color:#DBD7CAEE;">(</span><span style="color:#B8A965;">timeout</span><span style="color:#DBD7CAEE;">, </span><span style="color:#B8A965;">waitTime</span><span style="color:#DBD7CAEE;">, </span><span style="color:#B8A965;">doSomethingDuringCountDown</span><span style="color:#DBD7CAEE;">, </span><span style="color:#B8A965;">doSomethingAfterCountDown</span><span style="color:#DBD7CAEE;">)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">      </span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;">, 1000);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    } else </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">      </span><span style="color:#B8A965;">if</span><span style="color:#DBD7CAEE;"> (</span><span style="color:#B8A965;">doSomethingAfterCountDown</span><span style="color:#DBD7CAEE;">) {</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">doSomethingAfterCountDown</span><span style="color:#DBD7CAEE;">()</span></span>
<span class="line"><span style="color:#DBD7CAEE;">      </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    }</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  }</span></span>
<span class="line"><span style="color:#DBD7CAEE;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">const date = (new Date(res</span><span style="color:#666666;">.</span><span style="color:#BD976A;">data</span><span style="color:#666666;">.</span><span style="color:#BD976A;">preSellStartDate</span><span style="color:#DBD7CAEE;">)</span><span style="color:#666666;font-style:italic;">.</span><span style="color:#FDAEB7;font-style:italic;">getTime(</span><span style="color:#DBD7CAEE;">) / 1000) - (new Date()</span><span style="color:#666666;font-style:italic;">.</span><span style="color:#FDAEB7;font-style:italic;">getTime(</span><span style="color:#DBD7CAEE;">) / 1000)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            countDownUtils.countDown(timeout</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> date</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">doSomethingDuringCountDown</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">doSomethingAfterCountDown</span><span style="color:#DBD7CAEE;">)</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#393A34;">export default </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  // 把数字变成字符串，不够两位数的补零</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#998418;">transformTime</span><span style="color:#393A34;">(</span><span style="color:#998418;">time</span><span style="color:#393A34;">) {</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">const</span><span style="color:#393A34;"> </span><span style="color:#998418;">newTime</span><span style="color:#393A34;"> = </span><span style="color:#998418;">time</span><span style="color:#393A34;"> + &#39;&#39;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">return</span><span style="color:#393A34;"> </span><span style="color:#998418;">newTime</span><span style="color:#393A34;">.</span><span style="color:#998418;">length</span><span style="color:#393A34;"> &lt; 2 ? &#39;0&#39; + </span><span style="color:#998418;">newTime</span><span style="color:#393A34;"> </span><span style="color:#999999;">:</span><span style="color:#393A34;"> newTime</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">}</span><span style="color:#393A34;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#A0ADA0;">/**</span></span>
<span class="line"><span style="color:#A0ADA0;">   * 倒计时</span></span>
<span class="line"><span style="color:#A0ADA0;">   * @param {*} timeout 定时器</span></span>
<span class="line"><span style="color:#A0ADA0;">   * @param {*} waitTime 倒计时的时间戳</span></span>
<span class="line"><span style="color:#A0ADA0;">   * @param {*} doSomethingDuringCountDown 定时器中执行期间执行的函数</span></span>
<span class="line"><span style="color:#A0ADA0;">   * @param {*} doSomethingAfterCountDown 定时器中执行后执行的函数</span></span>
<span class="line"><span style="color:#A0ADA0;">   */</span></span>
<span class="line"><span style="color:#393A34;">  countDown(timeout</span><span style="color:#999999;">,</span><span style="color:#393A34;"> waitTime</span><span style="color:#999999;">,</span><span style="color:#393A34;"> doSomethingDuringCountDown</span><span style="color:#999999;">,</span><span style="color:#393A34;"> doSomethingAfterCountDown) </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">if</span><span style="color:#393A34;"> (</span><span style="color:#998418;">waitTime</span><span style="color:#393A34;"> &gt; 0) {</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#998418;">waitTime--</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#998418;">if</span><span style="color:#393A34;"> (</span><span style="color:#998418;">doSomethingDuringCountDown</span><span style="color:#393A34;">) {</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">doSomethingDuringCountDown</span><span style="color:#393A34;">(</span><span style="color:#998418;">waitTime</span><span style="color:#393A34;">)</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">      timeout = setTimeout(() =</span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">this</span><span style="color:#393A34;">.</span><span style="color:#998418;">countDown</span><span style="color:#393A34;">(</span><span style="color:#998418;">timeout</span><span style="color:#393A34;">, </span><span style="color:#998418;">waitTime</span><span style="color:#393A34;">, </span><span style="color:#998418;">doSomethingDuringCountDown</span><span style="color:#393A34;">, </span><span style="color:#998418;">doSomethingAfterCountDown</span><span style="color:#393A34;">)</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#999999;">}</span><span style="color:#393A34;">, 1000);</span></span>
<span class="line"><span style="color:#393A34;">    } else </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#998418;">if</span><span style="color:#393A34;"> (</span><span style="color:#998418;">doSomethingAfterCountDown</span><span style="color:#393A34;">) {</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">doSomethingAfterCountDown</span><span style="color:#393A34;">()</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">    }</span></span>
<span class="line"><span style="color:#393A34;">  }</span></span>
<span class="line"><span style="color:#393A34;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">const date = (new Date(res</span><span style="color:#999999;">.</span><span style="color:#B07D48;">data</span><span style="color:#999999;">.</span><span style="color:#B07D48;">preSellStartDate</span><span style="color:#393A34;">)</span><span style="color:#999999;font-style:italic;">.</span><span style="color:#B31D28;font-style:italic;">getTime(</span><span style="color:#393A34;">) / 1000) - (new Date()</span><span style="color:#999999;font-style:italic;">.</span><span style="color:#B31D28;font-style:italic;">getTime(</span><span style="color:#393A34;">) / 1000)</span></span>
<span class="line"><span style="color:#393A34;">            countDownUtils.countDown(timeout</span><span style="color:#999999;">,</span><span style="color:#393A34;"> date</span><span style="color:#999999;">,</span><span style="color:#393A34;"> this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">doSomethingDuringCountDown</span><span style="color:#999999;">,</span><span style="color:#393A34;"> this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">doSomethingAfterCountDown</span><span style="color:#393A34;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>执行</p><div class="language-css vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#758575DD;">/**</span></span>
<span class="line"><span style="color:#758575DD;"> * 生命周期函数--监听页面卸载</span></span>
<span class="line"><span style="color:#758575DD;"> */</span></span>
<span class="line"><span style="color:#DBD7CAEE;">componentWillUnmount() </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#B8A965;">if</span><span style="color:#DBD7CAEE;"> (</span><span style="color:#B8A965;">this</span><span style="color:#DBD7CAEE;">.</span><span style="color:#B8A965;">state</span><span style="color:#DBD7CAEE;">.</span><span style="color:#B8A965;">timeout</span><span style="color:#DBD7CAEE;">) {</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">this</span><span style="color:#DBD7CAEE;">.</span><span style="color:#B8A965;">doSomethingAfterCountDown</span><span style="color:#DBD7CAEE;">()</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">const date = (new Date(res</span><span style="color:#666666;">.</span><span style="color:#BD976A;">data</span><span style="color:#666666;">.</span><span style="color:#BD976A;">preSellStartDate</span><span style="color:#DBD7CAEE;">)</span><span style="color:#666666;font-style:italic;">.</span><span style="color:#FDAEB7;font-style:italic;">getTime(</span><span style="color:#DBD7CAEE;">) / 1000) - (new Date()</span><span style="color:#666666;font-style:italic;">.</span><span style="color:#FDAEB7;font-style:italic;">getTime(</span><span style="color:#DBD7CAEE;">) / 1000)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">countDownUtils.countDown(timeout</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> date</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">doSomethingDuringCountDown</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">doSomethingAfterCountDown</span><span style="color:#DBD7CAEE;">)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">// 定时器中执行期间执行的函数</span></span>
<span class="line"><span style="color:#DBD7CAEE;">doSomethingDuringCountDown = (waitTime) =</span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#B8A965;">this</span><span style="color:#DBD7CAEE;">.</span><span style="color:#B8A965;">setState</span><span style="color:#DBD7CAEE;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">countDay</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> countDownUtils.transformTime(Math.floor(waitTime / </span><span style="color:#4C9A91;">86400</span><span style="color:#DBD7CAEE;">)),</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">countHour</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> countDownUtils.transformTime(Math.floor(waitTime % </span><span style="color:#4C9A91;">86400</span><span style="color:#DBD7CAEE;"> / </span><span style="color:#4C9A91;">3600</span><span style="color:#DBD7CAEE;">)),</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">countMin</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> countDownUtils.transformTime(Math.floor(waitTime % </span><span style="color:#4C9A91;">86400</span><span style="color:#DBD7CAEE;"> % </span><span style="color:#4C9A91;">3600</span><span style="color:#DBD7CAEE;"> / </span><span style="color:#4C9A91;">60</span><span style="color:#DBD7CAEE;">)),</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">countSec</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> countDownUtils.transformTime(Math.floor(waitTime % </span><span style="color:#4C9A91;">86400</span><span style="color:#DBD7CAEE;"> % </span><span style="color:#4C9A91;">3600</span><span style="color:#DBD7CAEE;"> % </span><span style="color:#4C9A91;">60</span><span style="color:#DBD7CAEE;">)),</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">timeout</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> this.state.timeout</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;">)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">// 定时器中执行后执行的函数</span></span>
<span class="line"><span style="color:#DBD7CAEE;">doSomethingAfterCountDown = () =</span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#B8A965;">if</span><span style="color:#DBD7CAEE;"> (</span><span style="color:#B8A965;">this</span><span style="color:#DBD7CAEE;">.</span><span style="color:#B8A965;">state</span><span style="color:#DBD7CAEE;">.</span><span style="color:#B8A965;">timeout</span><span style="color:#DBD7CAEE;">) {</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">clearTimeout</span><span style="color:#DBD7CAEE;">(</span><span style="color:#B8A965;">this</span><span style="color:#DBD7CAEE;">.</span><span style="color:#B8A965;">state</span><span style="color:#DBD7CAEE;">.</span><span style="color:#B8A965;">timeout</span><span style="color:#DBD7CAEE;">)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">this</span><span style="color:#DBD7CAEE;">.</span><span style="color:#B8A965;">setState</span><span style="color:#DBD7CAEE;">({ </span><span style="color:#B8A965;">timeout</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> null </span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  }</span></span>
<span class="line"><span style="color:#DBD7CAEE;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">/**</span></span>
<span class="line"><span style="color:#A0ADA0;"> * 生命周期函数--监听页面卸载</span></span>
<span class="line"><span style="color:#A0ADA0;"> */</span></span>
<span class="line"><span style="color:#393A34;">componentWillUnmount() </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#998418;">if</span><span style="color:#393A34;"> (</span><span style="color:#998418;">this</span><span style="color:#393A34;">.</span><span style="color:#998418;">state</span><span style="color:#393A34;">.</span><span style="color:#998418;">timeout</span><span style="color:#393A34;">) {</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">this</span><span style="color:#393A34;">.</span><span style="color:#998418;">doSomethingAfterCountDown</span><span style="color:#393A34;">()</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">const date = (new Date(res</span><span style="color:#999999;">.</span><span style="color:#B07D48;">data</span><span style="color:#999999;">.</span><span style="color:#B07D48;">preSellStartDate</span><span style="color:#393A34;">)</span><span style="color:#999999;font-style:italic;">.</span><span style="color:#B31D28;font-style:italic;">getTime(</span><span style="color:#393A34;">) / 1000) - (new Date()</span><span style="color:#999999;font-style:italic;">.</span><span style="color:#B31D28;font-style:italic;">getTime(</span><span style="color:#393A34;">) / 1000)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">countDownUtils.countDown(timeout</span><span style="color:#999999;">,</span><span style="color:#393A34;"> date</span><span style="color:#999999;">,</span><span style="color:#393A34;"> this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">doSomethingDuringCountDown</span><span style="color:#999999;">,</span><span style="color:#393A34;"> this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">doSomethingAfterCountDown</span><span style="color:#393A34;">)</span></span>
<span class="line"><span style="color:#393A34;">// 定时器中执行期间执行的函数</span></span>
<span class="line"><span style="color:#393A34;">doSomethingDuringCountDown = (waitTime) =</span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#998418;">this</span><span style="color:#393A34;">.</span><span style="color:#998418;">setState</span><span style="color:#393A34;">({</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">countDay</span><span style="color:#999999;">:</span><span style="color:#393A34;"> countDownUtils.transformTime(Math.floor(waitTime / </span><span style="color:#2F798A;">86400</span><span style="color:#393A34;">)),</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">countHour</span><span style="color:#999999;">:</span><span style="color:#393A34;"> countDownUtils.transformTime(Math.floor(waitTime % </span><span style="color:#2F798A;">86400</span><span style="color:#393A34;"> / </span><span style="color:#2F798A;">3600</span><span style="color:#393A34;">)),</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">countMin</span><span style="color:#999999;">:</span><span style="color:#393A34;"> countDownUtils.transformTime(Math.floor(waitTime % </span><span style="color:#2F798A;">86400</span><span style="color:#393A34;"> % </span><span style="color:#2F798A;">3600</span><span style="color:#393A34;"> / </span><span style="color:#2F798A;">60</span><span style="color:#393A34;">)),</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">countSec</span><span style="color:#999999;">:</span><span style="color:#393A34;"> countDownUtils.transformTime(Math.floor(waitTime % </span><span style="color:#2F798A;">86400</span><span style="color:#393A34;"> % </span><span style="color:#2F798A;">3600</span><span style="color:#393A34;"> % </span><span style="color:#2F798A;">60</span><span style="color:#393A34;">)),</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">timeout</span><span style="color:#999999;">:</span><span style="color:#393A34;"> this.state.timeout</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">}</span><span style="color:#393A34;">)</span></span>
<span class="line"><span style="color:#393A34;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">// 定时器中执行后执行的函数</span></span>
<span class="line"><span style="color:#393A34;">doSomethingAfterCountDown = () =</span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#998418;">if</span><span style="color:#393A34;"> (</span><span style="color:#998418;">this</span><span style="color:#393A34;">.</span><span style="color:#998418;">state</span><span style="color:#393A34;">.</span><span style="color:#998418;">timeout</span><span style="color:#393A34;">) {</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">clearTimeout</span><span style="color:#393A34;">(</span><span style="color:#998418;">this</span><span style="color:#393A34;">.</span><span style="color:#998418;">state</span><span style="color:#393A34;">.</span><span style="color:#998418;">timeout</span><span style="color:#393A34;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">this</span><span style="color:#393A34;">.</span><span style="color:#998418;">setState</span><span style="color:#393A34;">({ </span><span style="color:#998418;">timeout</span><span style="color:#999999;">:</span><span style="color:#393A34;"> null </span><span style="color:#999999;">}</span><span style="color:#393A34;">);</span></span>
<span class="line"><span style="color:#393A34;">  }</span></span>
<span class="line"><span style="color:#393A34;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div>`,9),e=[o];function t(c,r,y,A,i,D){return n(),a("div",null,e)}const C=s(p,[["render",t]]);export{B as __pageData,C as default};
